From 39dd9916d61a156c98ced30c070dc64d27d1eb19 Mon Sep 17 00:00:00 2001
From: Dennis Gilmore <dennis@ausil.us>
Date: Fri, 31 Aug 2012 17:17:11 -0500
Subject: [PATCH] remove the code to create devices in chroot for livecds


diff --git a/builder/kojid b/builder/kojid
index 92d40f1..7114643 100755
--- a/builder/kojid
+++ b/builder/kojid
@@ -1770,22 +1770,6 @@ class ImageTask(BaseTaskHandler):
         self.logger.debug("Initializing image buildroot")
         broot.init()
 
-        # Create the loopback devices we need
-        cmd = 'for i in $(seq 0 7); do mknod /dev/loop$i b 7 $i; done'
-        rv = broot.mock(['--chroot', cmd])
-        if rv:
-            broot.expire()
-            raise koji.LiveCDError, \
-                "Could not create loopback device files: %s" % parseStatus(rv, '"%s"' % cmd)
-
-        # Create /dev/urandom
-        cmd = 'mknod /dev/urandom c 1 9'
-        rv = broot.mock(['--chroot', cmd])
-        if rv:
-            broot.expire()
-            raise koji.LiveCDError, \
-                "Could not create /dev/urandom: %s" % parseStatus(rv, '"%s"' % cmd)
-
         self.logger.debug("Image buildroot ready: " + broot.rootdir())
         return broot
 
-- 
1.7.11.4

